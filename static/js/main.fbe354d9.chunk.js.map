{"version":3,"sources":["firebase.js","Components/ItemInput.js","Components/CurrentList.js","Components/UserList.js","Components/SessionPage.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ColorButton","withStyles","theme","root","color","palette","getContrastText","backgroundColor","margin","Button","CustomTextField","minWidth","borderColor","borderWidth","borderLeftWidth","textColor","padding","TextField","ItemInput","props","sendItemInput","event","preventDefault","console","log","state","currentInput","document","getElementById","value","receiveItemInput","handleChange","bind","this","setState","target","id","label","username","variant","size","onChange","onKeyPress","key","className","disableElevation","onClick","React","Component","GreenCheckbox","checked","Checkbox","CurrentList","entries","voters","voteCount","didVote","isLoaded","deleteVote","addVote","renderWithVoting","renderWithoutVoting","firestore","collection","doc","sessionID","orderBy","onSnapshot","querySnapshot","localEntries","localVoteCount","localVoters","localUserVotes","forEach","concat","data","count","votes","includes","push","e","db","docName","currentTarget","update","FieldValue","increment","arrayRemove","get","then","exists","delete","catch","error","displayItems","i","length","itemName","join","UserList","users","deleteUser","localUsers","user","window","confirm","where","empty","map","eachUser","marginLeft","CustomFormControl","marginRight","boxBorderColor","border","FormControl","SessionPage","handleNameChange","handleNameSubmit","alert","hasName","docRef","trimmedName","trim","arrayUnion","resetName","set","handleSessionChange","tempExternalID","handleDateChange","inputDate","currDate","Date","setFullYear","substring","setMonth","parseInt","setDate","tempExpDate","dateToString","date","getFullYear","getMonth","slice","getDate","existingUsers","expDate","handleSessionSubmit","handleExpirationExtension","queryParams","URLSearchParams","location","search","externalID","history","replaceState","pathname","localExistingUsers","expirationDate","toDate","newExpDate","Timestamp","fromDate","queryDB","innerQuerySnapshot","renameSession","tomorrow","Fragment","SplashBanner","text","InputLabel","htmlFor","Select","native","type","defaultValue","inputProps","min","disabled","resetSession","navigator","clipboard","writeText","TextFieldExtId","width","App","handleExternalIDChange","newExternalID","createSession","CreditsBanner","Blurb","URLName","today","subQuerySnapshot","subDoc","ref","add","href","split","name","github","linkedin","email","person","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.fbe354d9.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyB0h22wiHLitL3J_-0XqYdZ3HAkuKAofl4\",\r\n    authDomain: \"what2do-fabc5.firebaseapp.com\",\r\n    databaseURL: \"https://what2do-fabc5-default-rtdb.firebaseio.com\",\r\n    projectId: \"what2do-fabc5\",\r\n    storageBucket: \"what2do-fabc5.appspot.com\",\r\n    messagingSenderId: \"917958482489\",\r\n    appId: \"1:917958482489:web:3b000c19e8fd12cde38be8\",\r\n    measurementId: \"G-FNTXD7HQC0\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n","import React from 'react'\r\n\r\nimport {\r\n  createTheme,\r\n  createStyles,\r\n  withStyles,\r\n  makeStyles,\r\n  Theme,\r\n  ThemeProvider,\r\n} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    // textTransform: \"none\",\r\n    color: theme.palette.getContrastText(\"#7CB7AF\"),\r\n    backgroundColor: \"#7CB7AF\",\r\n    margin: \"0 1em\",\r\n    '&:hover': {\r\n      backgroundColor: \"#16796F\",\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: \"#9CA89E\",\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nconst CustomTextField = withStyles((theme) => ({\r\n  root: {\r\n    minWidth: \"15em\",\r\n    '& label.Mui-focused': {\r\n      color: \"#16796F\",\r\n    },\r\n    '& input:valid + fieldset': {\r\n      borderColor: \"#7CB7AF\",\r\n      borderWidth: 2,\r\n    },\r\n    '& input:invalid + fieldset': {\r\n      borderColor: \"#16796F\",\r\n      borderWidth: 2,\r\n    },\r\n    '& input:valid:focus + fieldset': {\r\n      borderLeftWidth: 6,\r\n      borderColor: \"#16796F\",\r\n      textColor: \"#16796F\",\r\n      padding: '4px !important',\r\n    },\r\n  },\r\n}))(TextField);\r\n\r\nclass ItemInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentInput: \"\",\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.sendItemInput = this.sendItemInput.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ currentInput:event.target.value });\r\n  }\r\n\r\n  sendItemInput = event => {\r\n    event.preventDefault();\r\n    console.log(this.state.currentInput);\r\n    document.getElementById('userinput').value = '';\r\n    this.props.receiveItemInput(this.state.currentInput);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form>\r\n          <CustomTextField \r\n            id=\"userinput\" \r\n            label={this.props.username + \", enter an item:\"}  \r\n            variant=\"outlined\" \r\n            size=\"small\"\r\n            onChange={this.handleChange}\r\n            onKeyPress={event => {\r\n                if (event.key === 'Enter') {\r\n                  this.sendItemInput(event)\r\n                }\r\n            }}/>\r\n          <ColorButton\r\n            className =\"color-button\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            disableElevation\r\n            onClick={ this.sendItemInput }>Submit</ColorButton>\r\n        </form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ItemInput;\r\n","import React from 'react';\r\nimport firebase from '../firebase';\r\n\r\nimport {\r\n  createTheme,\r\n  createStyles,\r\n  withStyles,\r\n  makeStyles,\r\n  Theme,\r\n  ThemeProvider,\r\n} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    // textTransform: \"none\",\r\n    color: theme.palette.getContrastText(\"#7CB7AF\"),\r\n    backgroundColor: \"#7CB7AF\",\r\n    margin: \"0 1em\",\r\n    '&:hover': {\r\n      backgroundColor: \"#16796F\",\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: \"#9CA89E\",\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nconst GreenCheckbox = withStyles({\r\n  root: {\r\n    color: \"#7CB7AF\",\r\n    '&$checked': {\r\n      color: \"#16796F\",\r\n    },\r\n    padding: \"0 0 0 0.5em\",\r\n  },\r\n  checked: {},\r\n})(Checkbox);\r\n\r\nclass CurrentList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      entries: [],\r\n      voters: [],\r\n      voteCount: [],\r\n      didVote: [],\r\n      isLoaded: false\r\n    }\r\n    this.deleteVote = this.deleteVote.bind(this);\r\n    this.addVote = this.addVote.bind(this);\r\n    this.renderWithVoting = this.renderWithVoting.bind(this);\r\n    this.renderWithoutVoting = this.renderWithoutVoting.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    var db = firebase.firestore().collection(\"sessions\").doc(this.props.sessionID);\r\n    db.collection(\"items\").orderBy(\"count\", \"desc\").onSnapshot((querySnapshot) => {\r\n      var localEntries = [];\r\n      var localVoteCount = [];\r\n      var localVoters = [];\r\n      var localUserVotes = [];\r\n      querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n          // console.log(doc.id, \" => \", doc.data().count);\r\n          localEntries = localEntries.concat(doc.id);\r\n          localVoteCount = localVoteCount.concat(doc.data().count);\r\n          localUserVotes = localUserVotes.concat(doc.data().votes.includes(this.props.username));\r\n          localVoters.push(doc.data().votes);\r\n      });\r\n      this.setState({\r\n        entries: localEntries,\r\n        voters: localVoters,\r\n        voteCount: localVoteCount,\r\n        didVote: localUserVotes,\r\n        isLoaded: true\r\n      })\r\n    });\r\n  }\r\n\r\n  deleteVote(e) {\r\n    var db = firebase.firestore().collection(\"sessions\").doc(this.props.sessionID);\r\n    var docName = e.currentTarget.value;\r\n    console.log(\"Deleting\", docName);\r\n\r\n    db.collection(\"items\").doc(docName).update({\r\n      count: firebase.firestore.FieldValue.increment(-1),\r\n      votes: firebase.firestore.FieldValue.arrayRemove(this.props.username)\r\n    });\r\n\r\n    db.collection(\"items\").doc(docName).get().then((doc) => {\r\n      if (doc.exists && doc.data().count === 0) {\r\n        db.collection(\"items\").doc(docName).delete().then(() => {\r\n          console.log(\"Document successfully deleted!\");\r\n        }).catch((error) => {\r\n          console.error(\"Error removing document: \", error);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  addVote(e) {\r\n    var docName = e.currentTarget.value;\r\n    console.log(\"Adding vote\", docName);\r\n    this.props.receiveItemInput(docName);\r\n  }\r\n\r\n  renderWithVoting(){\r\n    var displayItems = [];\r\n    for (var i = 0; i < this.state.entries.length; i++) {\r\n      var itemName = this.state.entries[i];\r\n      displayItems.push(\r\n        <li className=\"itemList\">\r\n          { itemName } - { this.state.voteCount[i] } votes\r\n          { this.state.didVote[i]\r\n            ?\r\n            <GreenCheckbox\r\n              value={itemName}\r\n              checked={this.state.didVote[i]}\r\n              onChange={this.deleteVote} />\r\n            :\r\n            <GreenCheckbox\r\n              value={itemName}\r\n              checked={this.state.didVote[i]}\r\n              onChange={this.addVote} />\r\n          }\r\n          <br/>\r\n          <em>({this.state.voters[i].join(\", \")})</em>\r\n        </li>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"list\">\r\n        <h3>\r\n          Current Items:\r\n        </h3>\r\n        <ul>\r\n          {displayItems.length == 0 ? \"No items. Add an item to display here.\" : displayItems}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderWithoutVoting(){\r\n    var displayItems = [];\r\n    for (var i = 0; i < this.state.entries.length; i++) {\r\n      var itemName = this.state.entries[i];\r\n      displayItems.push(\r\n        <li id={i}>\r\n          { itemName } - { this.state.voteCount[i] } votes\r\n          <br/>\r\n          <em>({this.state.voters[i].join(\", \")})</em>\r\n        </li>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"list\">\r\n        <h3>\r\n          Current Items:\r\n        </h3>\r\n        <ul>\r\n          {displayItems.length == 0 ? \"No items. Add an item to display here.\" : displayItems}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) {\r\n      return (\r\n        <div>\r\n          <p>\r\n            Current Items:\r\n            <br />\r\n            Loading...\r\n          </p>\r\n        </div>\r\n      )\r\n    } else if (this.props.username != null) {\r\n      return <this.renderWithVoting/>;\r\n    }\r\n    else {\r\n      return <this.renderWithoutVoting/>;\r\n    }\r\n  }\r\n}\r\n\r\nexport default CurrentList;\r\n","import React from 'react';\r\nimport firebase from '../firebase';\r\n\r\nimport {\r\n  createTheme,\r\n  createStyles,\r\n  withStyles,\r\n  makeStyles,\r\n  Theme,\r\n  ThemeProvider,\r\n} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    // textTransform: \"none\",\r\n    color: theme.palette.getContrastText(\"#7CB7AF\"),\r\n    backgroundColor: \"#7CB7AF\",\r\n    margin: \"0 1em\",\r\n    '&:hover': {\r\n      backgroundColor: \"#16796F\",\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: \"#9CA89E\",\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nclass UserList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      users: []\r\n    }\r\n    this.deleteUser = this.deleteUser.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    firebase.firestore().collection(\"sessions\").doc(this.props.sessionID)\r\n        .onSnapshot((doc) => {\r\n          var localUsers = [];\r\n          doc.data().users.forEach((user) => {\r\n            localUsers = localUsers.concat(user);\r\n          })\r\n          this.setState({\r\n            users: localUsers\r\n          })\r\n        });\r\n  }\r\n\r\n  deleteUser(e) {\r\n    var username = e.currentTarget.value;\r\n    if (window.confirm(\"You are about to delete user \" + username + \" and all their votes.\\nProceed?\")) {\r\n      var db = firebase.firestore().collection(\"sessions\").doc(this.props.sessionID);\r\n\r\n      console.log(\"Deleting user\", username);\r\n\r\n      db.update({\r\n        users: firebase.firestore.FieldValue.arrayRemove(username)\r\n      });\r\n\r\n      console.log(\"after update\");\r\n\r\n      db.collection(\"items\").where(\"votes\", \"array-contains\", username)\r\n        .get().then( (querySnapshot) => {\r\n          console.log(querySnapshot.empty);\r\n          querySnapshot.forEach( (doc) => {\r\n            console.log(\"votes contains \" + username + \" \", doc.data());\r\n            db.collection(\"items\").doc(doc.id).update({\r\n              count: firebase.firestore.FieldValue.increment(-1),\r\n              votes: firebase.firestore.FieldValue.arrayRemove(username)\r\n            })\r\n        })\r\n      });\r\n\r\n      console.log(\"after array-contains\");\r\n\r\n      db.collection(\"items\").where(\"count\", \"==\", 0)\r\n        .onSnapshot((querySnapshot) => {\r\n          querySnapshot.forEach( (doc) => {\r\n            db.collection(\"items\").doc(doc.id).delete().then(() => {\r\n              console.log(\"Document successfully deleted!\");\r\n            }).catch((error) => {\r\n              console.error(\"Error removing document: \", error);\r\n            });\r\n        })\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"list\">\r\n        <h3>\r\n          Users in Current Session:\r\n        </h3>\r\n        <ul>\r\n          {this.state.users.length == 0 ? \"No users have joined.\" : this.state.users.map((eachUser) => {\r\n            return (\r\n              <li key={eachUser}>\r\n                {eachUser}\r\n                <ColorButton\r\n                  value={eachUser}\r\n                  className =\"color-button\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"small\"\r\n                  disableElevation\r\n                  onClick={ this.deleteUser }>Remove User</ColorButton>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default UserList;\r\n","import React, { Component } from \"react\";\r\nimport firebase from '../firebase';\r\nimport ItemInput from \"./ItemInput\";\r\nimport CurrentList from \"./CurrentList\";\r\nimport UserList from \"./UserList\";\r\n\r\nimport {\r\n  createTheme,\r\n  createStyles,\r\n  withStyles,\r\n  makeStyles,\r\n  Theme,\r\n  ThemeProvider,\r\n} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport NativeSelect from \"@material-ui/core/NativeSelect\";\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    // textTransform: \"none\",\r\n    color: theme.palette.getContrastText(\"#7CB7AF\"),\r\n    backgroundColor: \"#7CB7AF\",\r\n    margin: \"0 1em\",\r\n    '&:hover': {\r\n      backgroundColor: \"#16796F\",\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: \"#9EB7B4\",\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nconst CustomTextField = withStyles((theme) => ({\r\n  root: {\r\n    marginLeft: 15,\r\n    minWidth: \"15em\",\r\n    '& label.Mui-focused': {\r\n      color: \"#16796F\",\r\n    },\r\n    '& input:valid + fieldset': {\r\n      borderColor: \"#7CB7AF\",\r\n      borderWidth: 2,\r\n    },\r\n    '& input:invalid + fieldset': {\r\n      borderColor: \"#16796F\",\r\n      borderWidth: 2,\r\n    },\r\n    '& input:valid:focus + fieldset': {\r\n      borderLeftWidth: 6,\r\n      borderColor: \"#16796F\",\r\n      textColor: \"#16796F\",\r\n      padding: '4px !important',\r\n    },\r\n  },\r\n}))(TextField);\r\n\r\nconst CustomFormControl = withStyles((theme) => ({\r\n  root: {\r\n    marginRight: 15,\r\n    minWidth: \"8em\",\r\n    boxBorderColor: \"#16796F\",\r\n    '& .Mui-focused': {\r\n      color: \"#16796F\",\r\n      borderColor: \"#16796F\",\r\n    },\r\n    '& .MuiOutlinedInput-notchedOutline' : { //non-focused border\r\n      // borderColor: \"#16796F\",\r\n      border: \"2px solid #7CB7AF\",\r\n    },\r\n    \"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"2px solid #16796F\",\r\n    },\r\n    \"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\r\n      border: \"2px solid #16796F\",\r\n    },\r\n  },\r\n}))(FormControl);\r\n\r\n\r\n\r\nclass SessionPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      hasName: false,\r\n      existingUsers: [],\r\n      tempExternalID: \"\",\r\n      expDate: null,\r\n      tempExpDate: null\r\n    };\r\n    this.handleNameChange = this.handleNameChange.bind(this);\r\n    this.handleSessionChange = this.handleSessionChange.bind(this);\r\n    this.handleSessionSubmit = this.handleSessionSubmit.bind(this);\r\n    this.handleExpirationExtension = this.handleExpirationExtension.bind(this);\r\n    this.handleDateChange = this.handleDateChange.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    // Update URL to include \"?session=\" and the external ID\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    queryParams.set('session', this.props.externalID);\r\n    window.history.replaceState({}, '', `${window.location.pathname}?${queryParams}`);\r\n\r\n    // Collect the user names of everyone in this session\r\n    firebase.firestore().collection(\"sessions\").doc(this.props.sessionID)\r\n    .onSnapshot((doc) => {\r\n      var localExistingUsers = [];\r\n\r\n      localExistingUsers.push(\r\n        <option key={\"default\"} value=\"DEFAULT\"></option>\r\n      )\r\n      doc.data().users.forEach((user) => {\r\n        localExistingUsers.push(\r\n          <option key={user} value={user}>\r\n            {user}\r\n          </option>\r\n        );\r\n      })\r\n      this.setState({\r\n        existingUsers: localExistingUsers,\r\n        expDate: doc.data().expirationDate.toDate()\r\n      })\r\n    });\r\n  }\r\n\r\n  handleNameChange = event => {\r\n    event.preventDefault();\r\n    this.setState({ username:event.target.value });\r\n  }\r\n\r\n  handleNameSubmit = event => {\r\n    if (this.state.username === \"\") {\r\n      window.alert(\"Display name cannot be empty!\");\r\n      event.preventDefault();\r\n    } else {\r\n      this.setState({ hasName: true })\r\n\r\n      var docRef = firebase.firestore().collection(\"sessions\").doc(this.props.sessionID);\r\n      var trimmedName = this.state.username.trim();\r\n      this.setState({\r\n        username: trimmedName\r\n      })\r\n\r\n      docRef.get().then((doc) => {\r\n        if (doc.exists) {\r\n          console.log(\"Document data:\", doc.data());\r\n          if (doc.data().users.includes(trimmedName)) {\r\n            // Potentially special treatment for returning users (frontend things)\r\n          }\r\n\r\n          // This method only adds elements not already present\r\n          return docRef.update({\r\n            users: firebase.firestore.FieldValue.arrayUnion(trimmedName)\r\n          });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleExpirationExtension() {\r\n    var newExpDate = this.state.tempExpDate;\r\n\r\n    // Check if newExpDate is before today or within 5 days from today\r\n\r\n    //update expirationDate on firestore\r\n    var docRef = firebase.firestore().collection(\"sessions\").doc(this.props.sessionID);\r\n    docRef.get().then((doc) => {\r\n      console.log(newExpDate);\r\n      docRef.update({\r\n        expirationDate: firebase.firestore.Timestamp.fromDate(newExpDate)\r\n      }).then(() => {\r\n        console.log(\"expiration date has been changed to \", this.state.tempExpDate);\r\n      })\r\n    }).catch((error) => {});\r\n    //update state\r\n    this.setState({\r\n      expDate: newExpDate\r\n    })\r\n  }\r\n\r\n  resetName = () => {\r\n    this.setState({\r\n      username: \"\",\r\n      hasName: false\r\n    })\r\n  }\r\n\r\n  receiveItemInput = currentInput => {\r\n    var docRef = firebase.firestore().collection(\"sessions\").doc(this.props.sessionID)\r\n                                     .collection(\"items\").doc(currentInput);\r\n    docRef.get().then((doc) => {\r\n      if (doc.exists) {\r\n        console.log(\"Document data:\", doc.data());\r\n\r\n        if (!doc.data().votes.includes(this.state.username)) {\r\n          docRef.update({\r\n            count: firebase.firestore.FieldValue.increment(1),\r\n            votes: firebase.firestore.FieldValue.arrayUnion(this.state.username)\r\n          });\r\n        }\r\n      } else {\r\n        // doc.data() will be undefined in this case\r\n        console.log(\"No such document!\");\r\n\r\n        // Create the document\r\n        docRef.set({\r\n          votes: [ this.state.username ],\r\n          count: 1\r\n        })\r\n        .then(() => {\r\n            console.log(\"Document successfully written!\");\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error writing document: \", error);\r\n        });\r\n      }\r\n    }).catch((error) => {\r\n      console.log(\"Error getting document:\", error);\r\n    });\r\n  }\r\n\r\n  handleSessionChange = event => {\r\n    event.preventDefault();\r\n    console.log(event.target.value);\r\n    this.setState({ tempExternalID:event.target.value });\r\n  }\r\n\r\n  handleSessionSubmit(event) {\r\n    event.preventDefault();\r\n    console.log(this.state.tempExternalID);\r\n\r\n    if (this.state.tempExternalID.includes(\"/\")) {\r\n      window.alert(\"This is an invalid session ID. Please avoid using forward slashes (/).\")\r\n      return\r\n    }\r\n\r\n    var queryDB = firebase.firestore().collection(\"sessions\").where(\"externalID\", \"==\", this.state.tempExternalID);\r\n\r\n    queryDB.get().then((querySnapshot) => {\r\n        if (!querySnapshot.empty) {\r\n          window.alert(\"This session ID is already being used. Please enter a new session ID.\")\r\n        } else {\r\n          queryDB.get().then((innerQuerySnapshot) => {\r\n            if (innerQuerySnapshot.empty) {\r\n              this.props.renameSession(this.state.tempExternalID)\r\n            } else {\r\n              window.alert(\"This session ID is already being used. Please enter a new session ID.\")\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Error getting documents: \", error);\r\n          });\r\n        }\r\n    })\r\n  }\r\n\r\n  handleDateChange = event => {\r\n    var inputDate = event.target.value;\r\n    console.log(inputDate);\r\n    var currDate = new Date();\r\n    currDate.setFullYear(inputDate.substring(0,4));\r\n    currDate.setMonth(parseInt(inputDate.substring(5,7)) - 1);\r\n    currDate.setDate(inputDate.substring(8));\r\n    console.log(currDate);\r\n    this.setState({\r\n      tempExpDate: currDate\r\n    })\r\n  }\r\n\r\n  dateToString = (date) => {\r\n    return date.getFullYear() + \"-\"\r\n            + ('0' + (date.getMonth() + 1)).slice(-2) + \"-\"\r\n            + ('0' + (date.getDate())).slice(-2);\r\n  }\r\n\r\n  render() {\r\n    var tomorrow = new Date();\r\n    tomorrow.setDate((new Date()).getDate() + 1);\r\n\r\n    console.log(this.state.expDate);\r\n\r\n    if (!this.state.hasName) {\r\n      return(\r\n        <React.Fragment>\r\n          <this.props.SplashBanner text=\"Welcome to your What2Do session!\"/>\r\n          <div className=\"general\">\r\n            <div className=\"loginContainer\">\r\n              <h3>Select an existing user or enter a new name</h3>\r\n              {/* <form>\r\n              <label>Log in as: </label>\r\n                <select defaultValue={\"DEFAULT\"} onChange={this.handleNameChange}>\r\n                  {this.state.existingUsers}\r\n                </select> */}\r\n                <CustomFormControl variant=\"outlined\" size=\"small\">\r\n                  <InputLabel htmlFor=\"outlined-age-native-simple\">Log in as:</InputLabel>\r\n                  <Select\r\n                    native\r\n                    onChange={this.handleNameChange}\r\n                    label=\"Log in as:\">\r\n                    {this.state.existingUsers}\r\n                  </Select>\r\n                </CustomFormControl>\r\n                {/* <ColorButton\r\n                  className =\"color-button\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"small\"\r\n                  disableElevation\r\n                  onClick={ this.handleNameSubmit }>Go!</ColorButton> */}\r\n              {/* </form> */}\r\n              OR\r\n              <CustomTextField id=\"nameInput\" label=\"Enter your name:\" variant=\"outlined\" size=\"small\"\r\n                onChange={this.handleNameChange}\r\n                onKeyPress={event => {\r\n                    if (event.key === 'Enter') {\r\n                      this.handleNameSubmit(event)\r\n                    }\r\n                }}/>\r\n              <ColorButton\r\n                className =\"color-button\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                disableElevation\r\n                onClick={ this.handleNameSubmit }> Go! </ColorButton>\r\n              <br/>\r\n              </div>\r\n            <div className=\"loginContainer\">\r\n              <div className=\"row\">\r\n                <UserList\r\n                  username = {this.state.username}\r\n                  sessionID = {this.props.sessionID}\r\n                />\r\n                <CurrentList\r\n                  sessionID = {this.props.sessionID}\r\n                />\r\n              </div>\r\n            </div>\r\n            <br/>\r\n            <div className=\"loginContainer\">\r\n              <h3>Change this What2Do</h3>\r\n              {this.state.expDate !== null\r\n              &&\r\n                <div>\r\n                  This session expires on\r\n                  <div className=\"child\">\r\n                    <TextField\r\n                      id=\"date\"\r\n                      type=\"date\"\r\n                      onChange={this.handleDateChange}\r\n                      defaultValue={this.dateToString(this.state.expDate)}\r\n                      inputProps={{\r\n                        min: this.dateToString(tomorrow)\r\n                      }}\r\n                    />\r\n\r\n                  <ColorButton\r\n                    className =\"color-button\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    disableElevation\r\n                    onClick={ () => this.handleExpirationExtension() }> Update </ColorButton>\r\n                  </div>\r\n                  <br/>\r\n                </div>\r\n\r\n              }\r\n\r\n              <form>\r\n                <CustomTextField id=\"changeExternalID\" label=\"Change session ID:\" variant=\"outlined\" size=\"small\"\r\n                  onChange={this.handleSessionChange}\r\n                  onKeyPress={event => {\r\n                      if (event.key === 'Enter') {\r\n                        this.handleSessionSubmit(event)\r\n                      }\r\n                  }}/>\r\n                <ColorButton\r\n                  className =\"color-button\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"small\"\r\n                  disableElevation\r\n                  disabled={ this.state.tempExternalID === \"\" }\r\n                  onClick={ this.handleSessionSubmit }>Submit</ColorButton>\r\n              </form>\r\n              <br/>\r\n              <ColorButton\r\n                className =\"color-button\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                disableElevation\r\n                onClick={ this.props.resetSession }>Leave session</ColorButton>\r\n              <ColorButton\r\n                className =\"color-button\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                disableElevation\r\n                onClick={ () => {navigator.clipboard.writeText(\"http://localhost:3000/\" + window.location.search)} }>\r\n                Click to copy session link!\r\n              </ColorButton>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <this.props.SplashBanner text=\"Add items or leave your votes\"/>\r\n\r\n          <div className=\"general\">\r\n            <ItemInput\r\n              username = {this.state.username}\r\n              receiveItemInput = {this.receiveItemInput}\r\n            />\r\n            <div>\r\n              <CurrentList\r\n                username = {this.state.username}\r\n                receiveItemInput = {this.receiveItemInput}\r\n                sessionID = {this.props.sessionID}\r\n              />\r\n            </div>\r\n            <br/>\r\n            <ColorButton\r\n              className =\"color-button\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              disableElevation\r\n              onClick={ this.resetName }>Go back</ColorButton>\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default SessionPage;\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport firebase from './firebase';\r\nimport SessionPage from \"./Components/SessionPage\";\r\n\r\nimport {\r\n  createTheme,\r\n  createStyles,\r\n  withStyles,\r\n  makeStyles,\r\n  Theme,\r\n  ThemeProvider,\r\n} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.getContrastText(\"#7CB7AF\"),\r\n    backgroundColor: \"#7CB7AF\",\r\n    margin: \"0 1em\",\r\n    '&:hover': {\r\n      backgroundColor: \"#16796F\",\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: \"#9CA89E\",\r\n    },\r\n  },\r\n}))(Button);\r\n\r\nconst TextFieldExtId = withStyles((theme) => ({\r\n  root: {\r\n    width: \"25%\",\r\n    minWidth: \"15em\",\r\n    '& label.Mui-focused': {\r\n      color: \"#16796F\",\r\n    },\r\n    '& input:valid + fieldset': {\r\n      borderColor: \"#7CB7AF\",\r\n      borderWidth: 2,\r\n    },\r\n    '& input:invalid + fieldset': {\r\n      borderColor: \"#16796F\",\r\n      borderWidth: 2,\r\n    },\r\n    '& input:valid:focus + fieldset': {\r\n      borderLeftWidth: 6,\r\n      borderColor: \"#16796F\",\r\n      textColor: \"#16796F\",\r\n      padding: '4px !important',\r\n    },\r\n  },\r\n}))(TextField);\r\n\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      sessionID: null,\r\n      externalID: null,\r\n      tempExternalID: null\r\n    };\r\n    this.createSession = this.createSession.bind(this);\r\n    this.resetSession = this.resetSession.bind(this);\r\n    this.renameSession = this.renameSession.bind(this);\r\n    this.handleExternalIDChange = this.handleExternalIDChange.bind(this);\r\n    this.SplashBanner = this.SplashBanner.bind(this);\r\n    this.CreditsBanner = this.CreditsBanner.bind(this);\r\n    this.Blurb = this.Blurb.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const URLName = queryParams.get('session');\r\n    var db = firebase.firestore().collection(\"sessions\");\r\n\r\n    if (URLName !== \"\" && URLName !== null) {\r\n      db.where(\"externalID\", \"==\", URLName).get().then((querySnapshot) => {\r\n        if (!querySnapshot.empty) {\r\n          querySnapshot.forEach((doc) => {\r\n            this.setState({\r\n              sessionID: doc.id,\r\n              externalID: URLName\r\n            });\r\n          });\r\n        } else {\r\n          this.setState({\r\n            sessionID: \"\",\r\n            externalID: \"\"\r\n          });\r\n        }\r\n      })\r\n    }\r\n\r\n    // check for expired sessions to delete\r\n    db.get().then((querySnapshot) => {\r\n      var today = new Date();\r\n      querySnapshot.forEach((doc) => {\r\n        if (doc.data().expirationDate.toDate() < today) {\r\n          db.doc(doc.id).collection(\"items\").get().then((subQuerySnapshot) => {\r\n            subQuerySnapshot.forEach((subDoc) => {\r\n              subDoc.ref.delete().then(() => {\r\n                console.log(\"documents in subcollection of expired document has been deleted\")\r\n              })\r\n            })\r\n          })\r\n          doc.ref.delete().then(() => {\r\n            console.log(\"expired documment has been deleted\");\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleExternalIDChange = event => {\r\n    event.preventDefault();\r\n    this.setState({ tempExternalID: event.target.value });\r\n  }\r\n\r\n  createSession() {\r\n    console.log(\"this.state.tempExternalID: \" + this.state.tempExternalID);\r\n    var db = firebase.firestore().collection(\"sessions\");\r\n\r\n    if (this.state.tempExternalID != null && this.state.tempExternalID.includes(\"/\")) {\r\n      this.setState({sessionID: null})\r\n      window.alert(\"This is an invalid session ID. Please avoid using forward slashes (/).\")\r\n      return;\r\n    }\r\n\r\n    db.where(\"externalID\", \"==\", this.state.tempExternalID).get().then((querySnapshot) => {\r\n      if (!querySnapshot.empty){\r\n        this.setState({sessionID: null})\r\n        window.alert(\"This session ID already exists.\\nPlease input a different session ID.\")\r\n      } else {\r\n        var expDate = new Date();\r\n        expDate.setDate(expDate.getDate() + 30);\r\n\r\n        db.add({\r\n          users: [],\r\n          externalID: \"\",\r\n          expirationDate: firebase.firestore.Timestamp.fromDate(expDate)\r\n        })\r\n        .then((doc) => {\r\n          console.log(\"Document successfully written! Doc.id: \" + doc.id);\r\n          if (this.state.tempExternalID === null) {\r\n            this.setState({\r\n              sessionID: doc.id,\r\n              externalID: doc.id\r\n            });\r\n            db.doc(doc.id).update({\r\n              externalID: doc.id\r\n            })\r\n          } else {\r\n              this.setState({\r\n                  sessionID: doc.id,\r\n                  externalID: this.state.tempExternalID\r\n                });\r\n                db.doc(doc.id).update({\r\n                  externalID: this.state.tempExternalID\r\n                })\r\n              }\r\n            })\r\n        .catch((error) => {\r\n          console.error(\"Error writing document: \", error);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  resetSession() {\r\n    this.setState({\r\n      sessionID: null,\r\n      externalID: null\r\n    })\r\n    window.location.href = window.location.href.split(\"?\")[0];\r\n  }\r\n\r\n  renameSession = newExternalID => {\r\n    firebase.firestore().collection(\"sessions\").doc(this.state.sessionID).update({\r\n      externalID: newExternalID\r\n    })\r\n\r\n    this.setState({\r\n      externalID: newExternalID\r\n    })\r\n\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    queryParams.set('session', newExternalID); //this.state.tempExternalID\r\n    window.history.replaceState({}, '', `${window.location.pathname}?${queryParams}`);\r\n\r\n    window.alert(\"Successfully changed session ID.\")\r\n  }\r\n\r\n  SplashBanner(props) {\r\n    return (\r\n      <div className=\"banner splash\">\r\n        <h1>{props.text}</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  Blurb(props) {\r\n    var introText = \"What2Do is a multipurpose polling tool designed to facilitate group decisions. Users can brainstorm ideas together, vote on their favorites, and then select the most popular option(s).\";\r\n    var walkthroughText = \"Here's how to get started:\";\r\n    // \"To begin, select a personalized URL or let What2Do automatically generate one - this will be used to share & access your What2Do in the future! The next page shows \";\r\n    return (\r\n      <div className=\"summary\">\r\n        {introText}\r\n        <br/>\r\n        <br/>\r\n\r\n        <ol className=\"instructionList\">\r\n          <strong>{walkthroughText}</strong>\r\n          <li> Select a personalized URL or let What2Do generate one - this will be used to share & access your What2Do in the future!</li>\r\n          <li> Create a username that will represent your votes</li>\r\n          <li> Vote for existing items or add your own to the poll!</li>\r\n        </ol>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  CreditsBanner(props) {\r\n    var devs = [\r\n      {\r\n        name: \"Sana Suse\",\r\n        github: \"https://github.com/sanasc/\",\r\n        linkedin: \"https://www.linkedin.com/in/sanasuse/\",\r\n        email: \"15sanasc@gmail.com\"\r\n      },\r\n      {\r\n        name: \"Irene Wachirawutthichai\",\r\n        github: \"https://github.com/lalinw/\",\r\n        linkedin: \"https://www.linkedin.com/in/lalinw/\",\r\n        email: \"i.lalinw@gmail.com\"\r\n      },\r\n      {\r\n        name: \"David Kang\",\r\n        github: \"https://github.com/DaviidK\",\r\n        linkedin: \"https://www.linkedin.com/in/david-j-kang\",\r\n        email: \"kang.david.j@gmail.com\",\r\n      }\r\n    ]\r\n\r\n    return (\r\n      <div className=\"banner credits\">\r\n        <h3>Brought to you by:</h3>\r\n        {devs.map((person) => {\r\n            return (\r\n              <div key={person.name} className=\"person\">\r\n                {person.name}\r\n                <br/>\r\n                <a href={person.github} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  Github\r\n                </a> | <a href={person.linkedin} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  LinkedIn\r\n                </a> | <a href={\"mailto:\" + person.email} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  {person.email}\r\n                </a>\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.sessionID === null) {\r\n      return (\r\n        <React.Fragment>\r\n\r\n        <this.SplashBanner text=\"Welcome to What2Do\"/>\r\n        <div className=\"splash\">\r\n\r\n          <h2>Create a new session below!</h2>\r\n          <br/>\r\n\r\n          <TextFieldExtId id=\"externalIDInput\" label=\"Pick your own custom URL!\" variant=\"outlined\"\r\n            onChange={this.handleExternalIDChange}\r\n            onKeyPress={event => {\r\n                if (event.key === 'Enter') {\r\n                  this.createSession(event)\r\n                }\r\n            }}/>\r\n          <ColorButton\r\n            className =\"color-button\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            disableElevation\r\n            disabled={this.state.tempExternalID == null || this.state.tempExternalID == \"\"}\r\n            onClick={ this.createSession }>Submit</ColorButton>\r\n          <p><i>OR</i></p>\r\n          <ColorButton className =\"color-button\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disableElevation\r\n            size=\"large\"\r\n            className=\"btn btn-outline-dark btn-lg btn-block\"\r\n            onClick={ this.createSession }>Use a randomly generated URL</ColorButton>\r\n          <br/>\r\n        </div>\r\n        <this.Blurb/>\r\n        <this.CreditsBanner/>\r\n        </React.Fragment>\r\n      );\r\n    } else if (this.state.sessionID === \"\") {\r\n      console.log(\"Made it to the else-if!\");\r\n      window.alert(\"This is an invalid session ID.\");\r\n      this.resetSession();\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <SessionPage\r\n            sessionID = { this.state.sessionID }\r\n            resetSession = { this.resetSession }\r\n            renameSession = { this.renameSession }\r\n            externalID = { this.state.externalID }\r\n            SplashBanner = { this.SplashBanner }\r\n          />\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}